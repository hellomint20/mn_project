<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.care.am.mapper.mediMapper">
	<resultMap type="com.care.am.dto.mediDTO" id="medi">
	      <id property="mName" column="m_name" />
	      <result property="mAddr" column="m_addr" />
	      <result property="mTel" column="m_tel" />
	      <result property="mId" column="m_id" />
	      <result property="mPw" column="m_pw" />
	      <result property="mPhoto" column="m_photo" />
	      <result property="openTime" column="open_time" />
	      <result property="lunchTime" column="lunch_time" />
	      <result property="closeTime" column="close_time" />
	      <result property="mSession" column="m_session" />
   </resultMap>

   <select id="getMedi" resultMap="medi">
      select * from medi where m_id=#{mId}
   </select>

   <update id="keepLogin">
      update medi set m_session=#{mSession} where m_id=#{mId}
   </update>

   <insert id="register">
      insert into customer(m_name,m_addr,m_tel,m_id,m_pw,   m_photo,open_time,lunch_time,close_time) 
            values (#{mName},#{mAddr},#{mTel},#{mId},#{mPw},#{mPhoto},#{openTime},#{lunchTime},#{closeTime})
   </insert>

   <select id="getMediSession" resultMap="medi">
      select * from medi where m_session = #{mSession}
   </select>
	
</mapper>